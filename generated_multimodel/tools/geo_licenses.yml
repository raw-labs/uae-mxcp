mxcp: 1.0.0
tool:
  name: geo_licenses
  description: Analyze licenses by geographic location
  parameters:
  - name: groupByField
    type: string
    description: Geographic field to group by
    enum:
    - bl_full_address
    default: bl_full_address
  - name: includeCoordinates
    type: boolean
    description: Include lat/lon statistics
    default: false
  - name: boundingBox
    type: object
    description: Filter by bounding box coordinates
    properties:
      minLat:
        type: number
      maxLat:
        type: number
      minLon:
        type: number
      maxLon:
        type: number
  - name: LicensePk
    type: string
    description: Filter by license_pk
  - name: Bl
    type: string
    description: Filter by bl
  - name: BlCbls
    type: string
    description: Filter by bl_cbls
  - name: EmirateNameEn
    type: string
    description: Filter by emirate_name_en
    enum:
    - Dubai
    - Abu Dhabi
    - Sharjah
    - Ajman
    - Ras Al Khaimah
    - Fujairah
    - Umm Al Quwain
    - Umm Al-Quwain
    - null
  - name: EmirateNameAr
    type: string
    description: Filter by emirate_name_ar
  - name: IssuanceAuthorityEn
    type: string
    description: Filter by issuance_authority_en
  - name: IssuanceAuthorityAr
    type: string
    description: Filter by issuance_authority_ar
  - name: IssuanceAuthorityBranchEn
    type: string
    description: Filter by issuance_authority_branch_en
  - name: IssuanceAuthorityBranchAr
    type: string
    description: Filter by issuance_authority_branch_ar
  - name: BlStatusEn
    type: string
    description: Filter by bl_status_en
    enum:
    - Active
    - Expired
    - Cancelled
    - Current
    - On Hold
    - In  Active
    - Inactive
    - Blocked
    - Suspended
    - Under Liquidation
    - Under Commercial Liquidation
    - Under Commercial Liquidation.
    - Under Commercial Liquida
    - Under Commercial Mortgage
    - null
  - name: BlEstDateDFrom
    type: string
    format: date
    description: Filter bl_est_date_d from date (YYYY-MM-DD)
  - name: BlEstDateDTo
    type: string
    format: date
    description: Filter bl_est_date_d to date (YYYY-MM-DD)
  - name: BlExpDateDFrom
    type: string
    format: date
    description: Filter bl_exp_date_d from date (YYYY-MM-DD)
  - name: BlExpDateDTo
    type: string
    format: date
    description: Filter bl_exp_date_d to date (YYYY-MM-DD)
  required: []
  return:
    type: array
    items:
      type: object
      properties:
        location:
          type: string
        count:
          type: integer
        unique_records:
          type: integer
        avg_latitude:
          type: number
        avg_longitude:
          type: number
        min_latitude:
          type: number
        max_latitude:
          type: number
        min_longitude:
          type: number
        max_longitude:
          type: number
  source:
    file: ../sql/geo_licenses.sql
  enabled: true
