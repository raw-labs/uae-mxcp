mxcp: 1.0.0
tool:
  name: timeseries_licenses
  description: Analyze licenses trends over time
  parameters:
  - name: timeField
    type: string
    description: Date field to analyze
    enum:
    - bl_est_date
    - bl_exp_date
    - bl_est_date_d
    - bl_exp_date_d
    default: bl_est_date
  - name: granularity
    type: string
    description: Time granularity
    enum:
    - day
    - week
    - month
    - quarter
    - year
    default: month
  - name: startDate
    type: string
    format: date
    description: Start date (YYYY-MM-DD)
    default: null
  - name: endDate
    type: string
    format: date
    description: End date (YYYY-MM-DD)
    default: null
  - name: filterLicensePk
    type: string
    description: Filter by LicensePk
  - name: filterBl
    type: string
    description: Filter by Bl
  - name: filterCbls
    type: string
    description: Filter by Cbls
  - name: filterEmirateNameEn
    type: string
    description: Filter by EmirateNameEn
  - name: filterEmirateNameAr
    type: string
    description: Filter by EmirateNameAr
  - name: filterIssuanceAuthorityEn
    type: string
    description: Filter by IssuanceAuthorityEn
  - name: filterIssuanceAuthorityAr
    type: string
    description: Filter by IssuanceAuthorityAr
  - name: filterIssuanceAuthorityBranchEn
    type: string
    description: Filter by IssuanceAuthorityBranchEn
  - name: filterIssuanceAuthorityBranchAr
    type: string
    description: Filter by IssuanceAuthorityBranchAr
  - name: filterStatusEn
    type: string
    description: Filter by StatusEn
  - name: EstDateFrom
    type: string
    format: date
    description: Filter EstDate from date (YYYY-MM-DD)
  - name: EstDateTo
    type: string
    format: date
    description: Filter EstDate to date (YYYY-MM-DD)
  - name: ExpDateFrom
    type: string
    format: date
    description: Filter ExpDate from date (YYYY-MM-DD)
  - name: ExpDateTo
    type: string
    format: date
    description: Filter ExpDate to date (YYYY-MM-DD)
  return:
    type: array
    items:
      type: object
      properties:
        period:
          type: string
          format: date
        count:
          type: integer
        unique_licenses:
          type: integer
  source:
    file: ../sql/timeseries_licenses.sql
  enabled: true
