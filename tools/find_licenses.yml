mxcp: 1.0.0
tool:
  name: find_licenses
  description: Search and filter licenses records
  parameters:
  - name: LicensePk
    type: string
    description: Filter by license_pk
  - name: Bl
    type: string
    description: Filter by bl
  - name: Cbls
    type: string
    description: Filter by bl_cbls
  - name: EmirateNameEn
    type: string
    description: Filter by emirate_name_en
  - name: EmirateNameAr
    type: string
    description: Filter by emirate_name_ar
  - name: IssuanceAuthorityEn
    type: string
    description: Filter by issuance_authority_en
  - name: IssuanceAuthorityAr
    type: string
    description: Filter by issuance_authority_ar
  - name: IssuanceAuthorityBranchEn
    type: string
    description: Filter by issuance_authority_branch_en
  - name: IssuanceAuthorityBranchAr
    type: string
    description: Filter by issuance_authority_branch_ar
  - name: StatusEn
    type: string
    description: Filter by bl_status_en
  - name: StatusAr
    type: string
    description: Filter by bl_status_ar
  - name: NameEn
    type: string
    description: Filter by bl_name_en
  - name: NameAr
    type: string
    description: Filter by bl_name_ar
  - name: LegalTypeEn
    type: string
    description: Filter by bl_legal_type_en
  - name: LegalTypeAr
    type: string
    description: Filter by bl_legal_type_ar
  - name: EstDateFrom
    type: string
    format: date
    description: Filter bl_est_date from date (YYYY-MM-DD)
  - name: EstDateTo
    type: string
    format: date
    description: Filter bl_est_date to date (YYYY-MM-DD)
  - name: ExpDateFrom
    type: string
    format: date
    description: Filter bl_exp_date from date (YYYY-MM-DD)
  - name: ExpDateTo
    type: string
    format: date
    description: Filter bl_exp_date to date (YYYY-MM-DD)
  - name: TypeEn
    type: string
    description: Filter by bl_type_en
  - name: TypeAr
    type: string
    description: Filter by bl_type_ar
  - name: LicenseBranchFlag
    type: string
    description: Filter by license_branch_flag
  - name: FullAddress
    type: string
    description: Filter by bl_full_address
  - name: ParentLicenceLicenseNumber
    type: string
    description: Filter by parent_licence_license_number
  - name: ParentLicenseIssuanceAuthorityEn
    type: string
    description: Filter by parent_license_issuance_authority_en
  - name: ParentLicenseIssuanceAuthorityAr
    type: string
    description: Filter by parent_license_issuance_authority_ar
  - name: RelationshipTypeEn
    type: string
    description: Filter by relationship_type_en
  - name: RelationshipTypeAr
    type: string
    description: Filter by relationship_type_ar
  - name: OwnerNationalityAr
    type: string
    description: Filter by owner_nationality_ar
  - name: OwnerGender
    type: string
    description: Filter by owner_gender
  - name: OwnerNationalityEn
    type: string
    description: Filter by owner_nationality_en
  - name: BusinessActivityCode
    type: string
    description: Filter by business_activity_code
  - name: BusinessActivityDescEn
    type: string
    description: Filter by business_activity_desc_en
  - name: BusinessActivityDescAr
    type: string
    description: Filter by business_activity_desc_ar
  - name: LicenseLatitude
    type: string
    description: Filter by license_latitude
  - name: LicenseLongitude
    type: string
    description: Filter by license_longitude
  - name: LicenseLatitude1
    type: string
    description: Filter by license_latitude_1
  - name: LicenseLongitude1
    type: string
    description: Filter by license_longitude_1
  - name: EstDateDFrom
    type: string
    format: date
    description: Filter bl_est_date_d from date (YYYY-MM-DD)
  - name: EstDateDTo
    type: string
    format: date
    description: Filter bl_est_date_d to date (YYYY-MM-DD)
  - name: ExpDateDFrom
    type: string
    format: date
    description: Filter bl_exp_date_d from date (YYYY-MM-DD)
  - name: ExpDateDTo
    type: string
    format: date
    description: Filter bl_exp_date_d to date (YYYY-MM-DD)
  - name: LatDdMin
    type: number
    description: Minimum value for lat_dd
  - name: LatDdMax
    type: number
    description: Maximum value for lat_dd
  - name: LonDdMin
    type: number
    description: Minimum value for lon_dd
  - name: LonDdMax
    type: number
    description: Maximum value for lon_dd
  - name: limit
    type: integer
    description: Maximum number of records to return
    default: 100
  - name: offset
    type: integer
    description: Number of records to skip
    default: 0
  return:
    type: array
    items:
      type: object
      properties:
        license_pk:
          type: string
          description: The unique primary key for each license, generated as a hash
            of authority and license number.
        bl:
          type: string
          description: 'The official business license number (BL #).'
        bl_cbls:
          type: string
          description: The BL CBLS number.
        emirate_name_en:
          type: string
          description: The English name of the Emirate where the license is registered.
        emirate_name_ar:
          type: string
          description: The Arabic name of the Emirate where the license is registered.
        issuance_authority_en:
          type: string
          description: The English name of the license issuing authority.
        issuance_authority_ar:
          type: string
          description: The Arabic name of the license issuing authority.
        issuance_authority_branch_en:
          type: string
          description: The English name of the issuing authority's branch.
        issuance_authority_branch_ar:
          type: string
          description: The Arabic name of the issuing authority's branch.
        bl_status_en:
          type: string
          description: The current status of the business license (e.g., Active, Expired).
        bl_status_ar:
          type: string
          description: The current status of the business license in Arabic.
        bl_name_en:
          type: string
          description: The English name of the business on the license.
        bl_name_ar:
          type: string
          description: The Arabic name of the business on the license.
        bl_legal_type_en:
          type: string
          description: The legal type of the business entity.
        bl_legal_type_ar:
          type: string
          description: The legal type of the business license in Arabic.
        bl_est_date:
          type: string
          description: The establishment date of the license as a raw string.
        bl_exp_date:
          type: string
          description: The expiration date of the license as a raw string.
        bl_type_en:
          type: string
          description: The type of business license in English (e.g., Commercial,
            Professional).
        bl_type_ar:
          type: string
          description: The type of business license in Arabic.
        license_branch_flag:
          type: string
          description: A flag indicating if the license is for a branch ('Y' or 'N').
  source:
    file: ../sql/find_licenses.sql
  enabled: true
