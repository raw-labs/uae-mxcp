mxcp: 1.0.0
tool:
  name: aggregate_license_owners
  description: Aggregate license_owners data by various dimensions
  parameters:
  - name: group_by
    type: array
    items:
      type: string
      enum:
      - OwnerPk
      - LicensePk
      - OwnerGender
      - Nationality
      - OwnerType
      - Email
      - IsPrimaryOwner
      - IsActive
      - RequiresApproval
      - OwnerPk
      - LicensePk
      - OwnerName
      - PhoneNumber
      - Emirates
      - CreatedBy
    description: Fields to group by (can select multiple)
  - name: OwnerPk
    type: string
    description: Filter by owner_pk
  - name: LicensePk
    type: string
    description: Filter by license_pk
  - name: OwnerGender
    type: string
    description: Filter by owner_gender
    enum:
    - Male
    - Female
    - null
  - name: Nationality
    type: string
    description: Filter by nationality
    enum:
    - UAE
    - India
    - Pakistan
    - Egypt
    - Other
    - null
  - name: OwnerType
    type: string
    description: Filter by owner_type
    enum:
    - Primary
    - Partner
    - Shareholder
    - null
  - name: Email
    type: string
    description: Filter by email
  - name: IsPrimaryOwner
    type: boolean
    description: Filter by is_primary_owner
  - name: IsActive
    type: boolean
    description: Filter by is_active
  - name: RequiresApproval
    type: boolean
    description: Filter by requires_approval
  - name: OwnerPk
    type: string
    description: Filter by owner_pk
  - name: LicensePk
    type: string
    description: Filter by license_pk
  - name: OwnerName
    type: string
    description: Filter by owner_name
  - name: PhoneNumber
    type: string
    description: Filter by phone_number
  - name: Emirates
    type: string
    description: Filter by emirates_id
  - name: OwnerRegistrationDateFrom
    type: string
    format: date
    description: Filter owner_registration_date from date (YYYY-MM-DD)
  - name: OwnerRegistrationDateTo
    type: string
    format: date
    description: Filter owner_registration_date to date (YYYY-MM-DD)
  - name: CreatedAtFrom
    type: string
    format: date
    description: Filter created_at from date (YYYY-MM-DD)
  - name: CreatedAtTo
    type: string
    format: date
    description: Filter created_at to date (YYYY-MM-DD)
  required: []
  return:
    type: array
    items:
      type: object
  source:
    file: ../sql/aggregate_license_owners.sql
  enabled: true
